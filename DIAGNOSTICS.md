# Диагностика проблемы с 404 ошибками

## Проблема
Все страницы кроме главной показывают ошибку 404.

## Выполненные действия

### 1. Упрощен .htaccess
- Создан минимальный .htaccess с отключенными всеми правилами
- Оставлена только базовая настройка UTF-8

### 2. Создан тестовый файл
- `test.php` - для проверки работы PHP

## Шаги для диагностики

### Шаг 1: Проверка работы без .htaccess
1. Переименуйте `.htaccess` в `.htaccess_backup`
2. Проверьте работу страниц:
   - `catalog.php`
   - `detal.php?id=1`
   - `service.php`
   - `pay.php`
3. Если страницы работают - проблема в .htaccess
4. Если не работают - проблема не в .htaccess

### Шаг 2: Проверка тестового файла
1. Откройте `test.php` в браузере
2. Проверьте вывод:
   - Должен показать информацию о PHP
   - Должен проверить наличие файла `hyst/php.php`
   - Должен показать пути

### Шаг 3: Проверка логов ошибок
1. Проверьте логи сервера:
   - `/logs/error_log`
   - `/logs/motor-land.kz/error_log`
2. Ищите ошибки связанные с:
   - Путь к файлам
   - Права доступа
   - Конфигурация сервера

### Шаг 4: Проверка конфигурации сервера
1. Проверьте настройки виртуального хоста
2. Проверьте DocumentRoot
3. Проверьте, правильно ли настроена обработка PHP файлов

### Шаг 5: Проверка путей в файлах
Все файлы используют относительные пути:
- `include('hyst/php.php');`
- `include("hyst/head.php");`

Проверьте, что эти пути правильные относительно корня сайта.

## Возможные причины

### 1. Проблема с .htaccess
- Слишком агрессивные правила rewrite
- Конфликт с настройками сервера
- Неправильный RewriteBase

### 2. Проблема с путями
- Неправильный DOCUMENT_ROOT
- Проблемы с относительными путями
- Файлы находятся не там, где ожидается

### 3. Проблема с конфигурацией сервера
- Неправильная настройка виртуального хоста
- Проблемы с обработкой PHP
- Проблемы с правами доступа

### 4. Проблема с базой данных
- Ошибки при подключении к БД
- Отсутствие необходимых таблиц
- Проблемы с запросами

## Решение проблемы

### Если проблема в .htaccess:
1. Оставляйте .htaccess минимальным
2. Включайте правила по одному
3. Тестируйте после каждого изменения

### Если проблема не в .htaccess:
1. Проверьте логи ошибок
2. Проверьте конфигурацию сервера
3. Проверьте права доступа к файлам
4. Проверьте подключение к базе данных

## Восстановление .htaccess

После решения проблемы, постепенно включайте правила:

1. Сначала включите безопасные правила (Gzip, кэширование)
2. Затем включите блокировку служебных файлов
3. Затем включите редирект для sitemap
4. В последнюю очередь включайте редиректы и ErrorDocument

## Контакты для помощи

Если проблема не решается:
1. Проверьте логи сервера
2. Обратитесь к хостинг-провайдеру
3. Проверьте документацию сервера

